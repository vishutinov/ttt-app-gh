(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"07e6":function(e,t,a){"use strict";var n=a("9743"),r=a.n(n);r.a},"0d95":function(e,t,a){"use strict";var n=a("f89e"),r=a.n(n);r.a},"142b":function(e,t,a){},"211b":function(e,t,a){e.exports=a.p+"img/sign-in.50e108d5.png"},2384:function(e,t,a){"use strict";var n=a("142b"),r=a.n(n);r.a},2501:function(e,t,a){},"271d":function(e,t,a){"use strict";var n=a("c424"),r=a.n(n);r.a},2842:function(e,t,a){"use strict";var n=a("7554"),r=a.n(n);r.a},"3cc5":function(e,t,a){"use strict";var n=a("c5dc"),r=a.n(n);r.a},4449:function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="4678"},4979:function(e,t,a){},"4bc7":function(e,t,a){"use strict";var n=a("882d"),r=a.n(n);r.a},"51cf":function(e,t,a){"use strict";var n=a("8ffd"),r=a.n(n);r.a},"537d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i={},o=i,c=a("2877"),l=Object(c["a"])(o,r,s,!1,null,null,null),u=l.exports,d=a("f309");a("bf40");n["a"].use(d["a"]);var f=new d["a"]({icons:{iconfont:"md"},theme:{themes:{light:{primary:"#4285f4",secondary:"#23b5d3",accent:"#e8e288"}}}}),p=(a("45fc"),a("2ca0"),a("96cf"),a("1da1")),m=a("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{staticClass:"bg"},[n("v-app-bar",{attrs:{app:"",color:"#fff"}},[n("a",{attrs:{href:"https://timetotalk.io"}},[n("img",{staticClass:"mx-2",attrs:{height:"50",src:a("cf05")}})]),n("v-toolbar-title",{staticClass:"d-none d-sm-flex"},[n("span",{staticClass:"brand"},[e._v("Time To Talk")])]),e.talkId?n("FinishTalk",{staticClass:"ml-3"}):e._e(),n("v-spacer"),n("EarlyAccess"),n("v-menu",{attrs:{transition:"slide-y-transition",bottom:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"ma-4",attrs:{width:"60",height:"60",icon:""}},a),[n("Avatar",{attrs:{"user-id":e.userId,size:"50"}})],1)]}}])},[n("v-list",{attrs:{nav:""}},[e._l(e.links,(function(t){return n("v-list-item",{key:t.text,attrs:{exact:"",to:t.to}},[n("v-list-item-icon",[n("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)})),n("v-list-item",[n("SignOut")],1)],2)],1)],1),n("main",[n("v-content",{attrs:{fluid:""}},[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1)],1),n("footer",[n("v-footer",{staticClass:"footer"},[n("v-spacer"),e._v(" Â© Copyright 2019-2020 "),n("v-spacer")],1)],1)],1)},v=[],g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{attrs:{block:"",outlined:""},on:{click:e.logout}},[e._v("Logout")])},b=[],k=a("c1df"),w=a.n(k),x=a("bc3a"),y=a.n(x),_="https://api.timetotalk.io",C=!1,T={signUp:function(e){return y.a.post(_+"/api/public/user/sign/up",{email:e})},_setUserToken:function(e){localStorage.setItem("user.token",e),localStorage.setItem("user.token.expiration",w()().add(1,"days").format())},getUserToken:function(){return localStorage.getItem("user.token")},_setUserId:function(e){return localStorage.setItem("user.id",e)},getUserId:function(){return localStorage.getItem("user.id")},isAuthenticated:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=localStorage.getItem("user.token.expiration"),(null==a||w()(a).isBefore(w()()))&&(e._cleanUserData(),C=!1),n=e.getUserToken(),C||!n||""===n){t.next=14;break}return t.prev=4,t.next=7,y.a.post(_+"/api/private/user/check",{},{headers:{"X-User-Token":n},withCredentials:!0});case 7:r=t.sent,C=200===r.status,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),C=!1;case 14:return t.abrupt("return",C);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()},signOut:function(){this._cleanUserData(),C=!1},_cleanUserData:function(){localStorage.removeItem("user.id"),localStorage.removeItem("user.info"),localStorage.removeItem("user.token"),localStorage.removeItem("user.token.expiration")},singIn:function(e,t){var a=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,y.a.post(_+"/api/public/user/login",{login:e,password:t},{withCredentials:!0});case 2:if(r=n.sent,200!==r.status){n.next=7;break}return a._setUserToken(r.data.token),a._setUserId(r.data.userId),n.abrupt("return");case 7:throw s=new Error,s.response=r,s;case 10:case"end":return n.stop()}}),n)})))()},validateUserAccount:function(e,t,a){return y.a.post(_+"/api/public/user/password",{email:e,key:t,password:a})},resetPassword:function(e){return y.a.delete(_+"/api/public/user/password?email="+e)}},S={name:"Logout",methods:{logout:function(){T.signOut(),window.location.href="/"}}},j=S,R=a("6544"),I=a.n(R),O=a("8336"),E=Object(c["a"])(j,g,b,!1,null,"8b172930",null),U=E.exports;I()(E,{VBtn:O["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar"},[a("div",{staticClass:"avatar-svg",domProps:{innerHTML:e._s(e.avatar)}})])},$=[],V=a("5934"),A=a.n(V),P={name:"Avatar",props:["size","userId"],computed:{avatar:function(){return null!=this.userId?A.a.toSvg(this.hash(),this.size):""}},methods:{hash:function(){var e,t,a=0;for(e=0;e<this.userId.length;e++)t=this.userId.charCodeAt(e),a=(a<<5)-a+t,a|=0;return a}}},M=P,L=(a("f04d"),Object(c["a"])(M,D,$,!1,null,"10237f5b",null)),q=L.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{attrs:{outlined:""},on:{click:e.finishTalk}},[e._v("Finish "),a("span",{staticClass:"brand"},[e._v("Talk")])])},F=[],W=a("bc3a"),z=function(){return{headers:{"X-User-Token":T.getUserToken()},withCredentials:!0}},B="https://api.timetotalk.io",J=null,H={requestTalk:function(e,t){return W.post(B+"/api/private/talk/queue",{languageId:e,participateAsNative:t},z())},scheduleTalk:function(e,t,a,n){return W.post(B+"/api/private/talk/schedule",{languageId:e,participateAsNative:t,dateTimes:a,userTimeZoneOffset:n},z())},cancelScheduledWithToken:function(e){W.post(B+"/api/public/scheduled/cancel",{token:e})},cancelScheduleRequest:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W.post(B+"/api/private/talk/schedule/cancel",{id:e},z());case 2:case"end":return t.stop()}}),t)})))()},undoCancellation:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W.post(B+"/api/private/talk/schedule/cancel/undo",{id:e},z());case 2:case"end":return t.stop()}}),t)})))()},getHighDemandDates:function(e,t,a){return W.post(B+"/api/private/talk/schedule/available",{languageId:e,startDate:t,endDate:a},z())},getUpcomingScheduledRequests:function(){return Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.get(B+"/api/private/talk/schedule/requests",z());case 2:if(t=e.sent,200!==t.status){e.next=6;break}if(!t.data){e.next=6;break}return e.abrupt("return",t.data);case 6:throw new Error(t);case 7:case"end":return e.stop()}}),e)})))()},setCurrentTalkId:function(e){J=e},getCurrentTalkId:function(){return J},getTalkInfo:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W.get(B+"/api/private/talk/"+e,z());case 2:if(a=t.sent,200!==a.status){t.next=6;break}if(!a.data){t.next=6;break}return t.abrupt("return",a.data);case 6:throw new Error("user profile retrieval issue");case 7:case"end":return t.stop()}}),t)})))()},clearCurrentTalk:function(){J=null,localStorage.removeItem("talk.info"),localStorage.removeItem("talk.info.expiration")}},G=new n["a"],Y=G,Z={name:"FinishTalk",methods:{finishTalk:function(){H.clearCurrentTalk(),Y.$emit("new-talk"),"/app"!==this.$router.currentRoute.path&&"/"!==this.$router.currentRoute.path&&this.$router.push("/")}}},X=Z,K=Object(c["a"])(X,N,F,!1,null,"295aabd5",null),Q=K.exports;I()(K,{VBtn:O["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-chip",e._g({},n),[e._v("Early Access")])]}}])},[a("v-card",{attrs:{"max-width":"300px"}},[a("v-card-text",[a("p",[e._v("Hi there!")]),a("p",[e._v("This is free early access! Full feature platform will be launched very soon. If you see any weird behaviour or just have ideas to improve your experience, please feel free to drop us an email at "),a("a",{attrs:{href:"mailto:info@timetotalk.io?subject=Time to Talk feedback"}},[e._v("info@timetotalk.io")])])])],1)],1)},te=[],ae={name:"EarlyAccess"},ne=ae,re=a("b0af"),se=a("99d9"),ie=a("cc20"),oe=a("e449"),ce=Object(c["a"])(ne,ee,te,!1,null,"2c90bf5e",null),le=ce.exports;I()(ce,{VCard:re["a"],VCardText:se["b"],VChip:ie["a"],VMenu:oe["a"]});var ue={name:"AppLayout",components:{EarlyAccess:le,FinishTalk:Q,Avatar:q,SignOut:U},data:function(){return{showDrawer:null,links:[{to:"/app",icon:"home",title:"Home"},{to:"/app/profile",icon:"account_box",title:"My profile"}],talkId:H.getCurrentTalkId()}},created:function(){Y.$on("new-talk",this.updateTalk)},destroyed:function(){Y.$off("new-talk",this.updateTalk)},computed:{userId:function(){return T.getUserId()}},methods:{updateTalk:function(){this.talkId=H.getCurrentTalkId()}}},de=ue,fe=(a("2842"),a("7496")),pe=a("40dc"),me=a("a523"),he=a("a75b"),ve=a("553a"),ge=a("132d"),be=a("8860"),ke=a("da13"),we=a("5d23"),xe=a("34c3"),ye=a("2fa4"),_e=a("2a7f"),Ce=Object(c["a"])(de,h,v,!1,null,"6f0ec64e",null),Te=Ce.exports;I()(Ce,{VApp:fe["a"],VAppBar:pe["a"],VBtn:O["a"],VContainer:me["a"],VContent:he["a"],VFooter:ve["a"],VIcon:ge["a"],VList:be["a"],VListItem:ke["a"],VListItemContent:we["a"],VListItemIcon:xe["a"],VListItemTitle:we["b"],VMenu:oe["a"],VSpacer:ye["a"],VToolbarTitle:_e["a"]});var Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{staticClass:"bg"},[a("v-content",[a("v-container",{staticClass:"container bg",attrs:{fluid:"","fill-height":""}},[a("router-view")],1)],1)],1)},je=[],Re={name:"CenterCardLayout"},Ie=Re,Oe=(a("d521"),a("a5b4"),Object(c["a"])(Ie,Se,je,!1,null,"d9d44e6e",null)),Ee=Oe.exports;I()(Oe,{VApp:fe["a"],VContainer:me["a"],VContent:he["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",[a("v-col",[a("div",{staticClass:"home"},[a("div",{staticClass:"left"},[a("ScheduleTalk")],1),a("div",{staticClass:"right"},[a("UserTalkList")],1)])])],1)],1)},De=[],$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("h2",{staticClass:"text-center full-width font-weight-thin"},[e._v(" Schedule next "),a("span",{staticClass:"brand"},[e._v("Talk")]),a("div",{staticClass:"divider"})])]),a("v-card-text",{staticClass:"pb-2"},[e._v(" Schedule next conversation based on your available time. We will do the rest and send you an email, once your partners are found ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"green-button",on:{click:function(t){e.scheduleTalkDialog=!0}}},[a("span",[e._v("Schedule "),a("span",{staticClass:"brand"},[e._v("Talk")])])]),a("v-spacer")],1),a("v-dialog",{attrs:{persistent:"","max-width":"1024"},model:{value:e.scheduleTalkDialog,callback:function(t){e.scheduleTalkDialog=t},expression:"scheduleTalkDialog"}},[e.scheduleTalkDialog?a("ScheduleTalk",{on:{finishScheduling:function(t){e.scheduleTalkDialog=!1}}}):e._e()],1)],1)},Ve=[],Ae=function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("v-stepper",{attrs:{"alt-labels":""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{editable:t.step>1,complete:t.step>1,step:"1"}},[t._v("Language")]),n("v-divider"),n("v-stepper-step",{attrs:{editable:t.step>2,complete:t.step>2,step:"2"}},[t._v("Date and Time")]),n("v-divider"),n("v-stepper-step",{attrs:{step:"3"}},[n("span",{staticStyle:{"white-space":"nowrap"}},[t._v("Number of "),n("span",{staticClass:"brand"},[t._v("Talk")]),t._v("s")])])],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-card",[n("v-card-title",[n("h3",{staticClass:"text-center full-width",staticStyle:{"word-break":"break-word"}},[t._v(" Please select language ")]),n("div",{staticClass:"divider mb-5"})]),n("v-card-text",{staticClass:"flex-center"},[n("v-form",{ref:"languageForm",staticClass:"language-form"},[n("SelectLanguage",{attrs:{"language-pre":t.language},on:{language:function(t){e.language=t},"participate-as-native":function(t){e.participateAsNative=t}}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"mb-3",attrs:{width:"25%",large:""},on:{click:function(e){return t.$emit("finishScheduling")}}},[n("span",{staticStyle:{color:"#333"}},[t._v("Cancel")])]),n("v-btn",{staticClass:"mb-3",attrs:{width:"50%",large:"",color:"#aad8b0"},on:{click:t.finishStep1}},[t._v("Done. Go next ")]),n("v-spacer")],1)],1)],1),n("v-stepper-content",{attrs:{step:"2"}},[n("v-lazy",[n("SelectAvailableTime",{attrs:{language:t.language,"participate-as-native":t.participateAsNative},on:{finishScheduling:function(e){return t.$emit("finishScheduling")},dateTimeSelected:t.finishStep2}})],1)],1),n("v-stepper-content",{attrs:{step:"3"}},[n("v-card",[n("v-card-title",[n("h3",{staticClass:"text-center full-width",staticStyle:{"word-break":"break-word"}},[t._v(" Please select number of "),n("span",{staticClass:"brand"},[t._v("Talk")]),t._v("s you'd like to have ")]),n("div",{staticClass:"divider mb-5"})]),n("v-card-text",{staticClass:"flex-center"},[n("v-form",{staticClass:"language-form flex-center"},[n("v-radio-group",{attrs:{row:""},model:{value:t.numberOfTalks,callback:function(e){t.numberOfTalks=e},expression:"numberOfTalks"}},[n("v-radio",{attrs:{label:"1",value:1}}),n("v-radio",{attrs:{label:"2",value:2}}),n("v-radio",{attrs:{label:"3",value:3}})],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"mb-3",attrs:{width:"25%",large:""},on:{click:function(e){return t.$emit("finishScheduling")}}},[n("span",{staticStyle:{color:"#333"}},[t._v("Cancel")])]),n("v-btn",{staticClass:"mb-3",attrs:{width:"50%",large:"",color:"#aad8b0"},on:{click:t.scheduleTalks}},[n("span",{staticStyle:{color:"#333"}},[t._v(" Schedule "),n("span",{staticClass:"brand"},[t._v("Talk")]),t.numberOfTalks>1?[t._v("s")]:t._e()],2)]),n("v-spacer")],1)],1)],1)],1)],1)},Pe=[],Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-card-title",[a("h3",{staticClass:"text-center full-width",staticStyle:{"word-break":"break-word"}},[e._v(" Please select date and time when you are available ")]),a("div",{staticClass:"divider"})]),a("v-card-text",{staticClass:"pb-2"},[a("ul",{staticClass:"mb-3"},[a("li",[e._v("You have to select "),a("b",[e._v("at least 3")]),e._v(" date/time slots (but not more than 20)")]),a("li",{class:{hide:0===e.highDemand.length}},[a("i",{staticClass:"nice material-icons"},[e._v("check_circle_outline")]),e._v(" means someone else is looking at this time ")])]),a("div",{staticClass:"dateTimes",on:{mouseup:e.endSelection,mouseleave:e.endSelection}},[a("div",{staticClass:"clearAll"},[a("i",{staticClass:"material-icons",on:{click:e.clearAll}},[e._v("delete_forever")])]),e._l(e.numberOfTimeSlots,(function(t){return a("div",{key:"row-"+t,staticClass:"row-header"},[t%2!==0?a("div",[e._v(" "+e._s(e.getTimeForIndex(t-1).format("LT").replace(/(:|\.)[0-9]{2}/,""))+" ")]):e._e()])})),e._l(e.dates.length,(function(t){return[(t-1)%e.numberOfTimeSlots===0?a("div",{key:"column-"+t,staticClass:"column-header"},[e._v(" "+e._s(e.getDateForIndex((t-1)/e.numberOfTimeSlots).format("ddd, D MMM"))+" ")]):e._e(),a("div",{key:t,ref:"cell-"+(t-1),refInFor:!0,class:"dateTime"+((t-1)%e.numberOfTimeSlots%2===0?" strip":""),on:{mousedown:function(a){return e.startSelection(t-1)},mouseenter:function(a){return e.selectDateTime(t-1)}}},[a("div",{staticClass:"cell-content"},[e._v(" "+e._s(e.dates[t-1].format("LT"))+" ")]),e.highDemand[t-1]?a("i",{staticClass:"nice material-icons"},[e._v("check_circle_outline")]):e._e()])]}))],2)]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-3",attrs:{width:"25%",large:""},on:{click:e.finishScheduling}},[a("span",{staticStyle:{color:"#333"}},[e._v("Cancel")])]),a("v-btn",{staticClass:"mb-3",attrs:{width:"50%",large:"",color:"#aad8b0",disabled:e.selectedSize<e.minToSelect},on:{click:e.scheduleTalk}},[e._v("Done. Go Next ")]),a("v-spacer")],1)],1)},Le=[],qe=(a("4160"),a("a630"),a("d81d"),a("d3b7"),a("6062"),a("3ca3"),a("159b"),a("ddb0"),{name:"SelectAvailableTime",props:{language:String,participateAsNative:Boolean},data:function(){return{numberOfDate:7,timeStart:10,timeDelta:1,timeEnd:23,minToSelect:3,maxToSelect:20,select:null,selected:new Set,selectedSize:0,highDemand:[]}},created:function(){this.loadDemand()},computed:{numberOfTimeSlots:function(){return(this.timeEnd-this.timeStart)/this.timeDelta},dates:function(){for(var e=[],t=w()().add(1,"day"),a=0;a<this.numberOfDate;a++){t.startOf("day");for(var n=this.timeStart;n<this.timeEnd;n+=this.timeDelta)t.set("hour",n),e.push(t.clone());t=t.add(1,"day")}return e}},watch:{language:function(){this.loadDemand()}},methods:{loadDemand:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.language){t.next=11;break}return t.prev=1,t.next=4,H.getHighDemandDates(e.language,e.dates[0].toISOString(),e.dates[e.dates.length-1].toISOString());case 4:a=t.sent,200===a.status&&a.data&&(n=[],a.data&&e.dates.forEach((function(e,t){var r=a.data[e.utc().format()];r&&r>0&&(n[t]=!0)})),e.highDemand=n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getTimeForIndex:function(e){var t=w()().add(1,"day");return t.startOf("day"),t.set("hour",this.timeStart+e*this.timeDelta),t},getDateForIndex:function(e){var t=w()().add(1+e,"day");return t.startOf("day"),t},startSelection:function(e){this.select=!this.selected.has(e),this.selectDateTime(e)},endSelection:function(){this.select=null},selectDateTime:function(e){null!=this.select&&this.selectDeselectDateTime(e,this.select)},selectDeselectDateTime:function(e,t){t&&this.selected.size<this.maxToSelect?(this.selected.add(e),this.$refs["cell-"+e][0].classList.add("selected")):t||(this.selected.delete(e),this.$refs["cell-"+e][0].classList.remove("selected")),this.selectedSize=this.selected.size},clearAll:function(){var e=this;Array.from(this.selected).forEach((function(t){return e.selectDeselectDateTime(t,!1)})),this.select=null},finishScheduling:function(){this.$emit("finishScheduling")},scheduleTalk:function(){var e=this,t=Array.from(this.selected).map((function(t){return e.dates[t]})).map((function(e){return e.toISOString()}));this.$emit("dateTimeSelected",t)}}}),Ne=qe,Fe=(a("9e0d"),Object(c["a"])(Ne,Me,Le,!1,null,"c7b2a9e2",null)),We=Fe.exports;I()(Fe,{VBtn:O["a"],VCard:re["a"],VCardActions:se["a"],VCardText:se["b"],VCardTitle:se["c"],VSpacer:ye["a"]});var ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"select-language"},[a("v-select",{attrs:{"prepend-inner-icon":"language",items:e.languages,label:"Language to practice",rules:[function(e){return!!e||"Language is required"}]},model:{value:e.language,callback:function(t){e.language=t},expression:"language"}}),a("v-switch",{staticClass:"small",attrs:{inset:"",dense:"",color:"primary"},scopedSlots:e._u([{key:"label",fn:function(){return[e.participateAsNative?a("span",{staticClass:"small full-width"},[e._v("Include my native language(s)")]):a("span",{staticClass:"small full-width"},[e._v("Please consider helping others as native speaker")]),a("PopupInfo",{attrs:{title:"Participate as native",text:"When selected, you will have a chance to be matched with other peers using your native language(s). \n                       Only if someone is looking conversation in your native languages.\n                       This is the heart of <span class='brand'>Time to Talk</span> please consider helping others as native speaker",icon:"help"}})]},proxy:!0}]),model:{value:e.participateAsNative,callback:function(t){e.participateAsNative=t},expression:"participateAsNative"}})],1)},Be=[],Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[e.chip?a("v-chip",e._g({attrs:{color:e.color}},n),[a("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]),e._v(" "+e._s(e.chip)+" ")],1):e.icon?a("v-btn",e._g({attrs:{icon:""}},n),[a("v-icon",{domProps:{innerHTML:e._s(e.icon)}})],1):e._e()]}}])},[a("v-card",{attrs:{"max-width":"300px"}},[a("v-card-text",[a("h2",{domProps:{innerHTML:e._s(e.title)}}),a("p",{domProps:{innerHTML:e._s(e.text)}})])],1)],1)},He=[],Ge={name:"PopupInfo",props:{title:String,text:String,icon:String,chip:String,color:String}},Ye=Ge,Ze=Object(c["a"])(Ye,Je,He,!1,null,"7b65baf8",null),Xe=Ze.exports;I()(Ze,{VBtn:O["a"],VCard:re["a"],VCardText:se["b"],VChip:ie["a"],VIcon:ge["a"],VMenu:oe["a"]});var Ke,Qe={name:"SelectLanguage",components:{PopupInfo:Xe},props:{languagePre:String,participateAsNativePre:{type:Boolean,default:!1}},data:function(){return{languages:["English","Spanish","French","German","Russian"],language:null,participateAsNative:!0}},created:function(){this.languagePre&&(this.language=this.languagePre,this.participateAsNative=this.participateAsNativePre)},watch:{language:function(){this.$emit("language",this.language)},participateAsNative:function(){this.$emit("participateAsNative",this.participateAsNative)}}},et=Qe,tt=(a("7c15"),a("b974")),at=a("b73d"),nt=Object(c["a"])(et,ze,Be,!1,null,"0bbfa3e7",null),rt=nt.exports;I()(nt,{VSelect:tt["a"],VSwitch:at["a"]});var st={init:function(e){Ke=e},success:function(e,t){Ke.success(t,{labels:{success:e}})},warning:function(e,t){Ke.warning(t,{labels:{warning:e}})},info:function(e,t){Ke.info(t,{labels:{info:e}})},alert:function(e,t){Ke.alert(t,{labels:{alert:e}})},handleErrors:function(e){e&&e.response&&500===e.response.status?this.alert("Server issue","Something wrong is on our side. We are working on fix, please retry a bit later"):this.alert("Connection error","Looks like our servers can't be reached. Please double check your internet connection")}},it={name:"ScheduleTalk",components:{SelectLanguage:rt,SelectAvailableTime:We},props:{languagePre:String,participateAsNativePre:{type:Boolean,default:!1}},data:function(){return{language:null,participateAsNative:!0,selectedDateTimeList:[],numberOfTalks:1,step:1,loading:!1}},created:function(){this.languagePre&&(this.language=this.languagePre,this.participateAsNative=this.participateAsNativePre,this.step=2)},methods:{finishStep1:function(){this.$refs.languageForm.validate()&&(this.step=2)},finishStep2:function(e){this.selectedDateTimeList=e,this.step=3},scheduleTalks:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,t.prev=1,a=0;case 3:if(!(a<e.numberOfTalks)){t.next=9;break}return t.next=6,H.scheduleTalk(e.language,e.participateAsNative,e.selectedDateTimeList,w()().utcOffset());case 6:a++,t.next=3;break;case 9:Y.$emit("update-user-talks"),e.$emit("finishScheduling"),st.success("Done!","We will send you an email as soon as we find peers you can talk to.");case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,,12,15]])})))()}}},ot=it,ct=(a("922c"),a("ce7e")),lt=a("4bd4"),ut=a("b687"),dt=a("67b6"),ft=a("43a6"),pt=a("7e85"),mt=a("e516"),ht=a("9c54"),vt=a("56a4"),gt=Object(c["a"])(ot,Ae,Pe,!1,null,"365eb010",null),bt=gt.exports;I()(gt,{VBtn:O["a"],VCard:re["a"],VCardActions:se["a"],VCardText:se["b"],VCardTitle:se["c"],VDivider:ct["a"],VForm:lt["a"],VLazy:ut["a"],VRadio:dt["a"],VRadioGroup:ft["a"],VSpacer:ye["a"],VStepper:pt["a"],VStepperContent:mt["a"],VStepperHeader:ht["a"],VStepperItems:ht["b"],VStepperStep:vt["a"]});var kt={name:"ScheduleTalkAction",components:{ScheduleTalk:bt},data:function(){return{scheduleTalkDialog:!1}},methods:{scheduleTalk:function(){}}},wt=kt,xt=(a("4bc7"),a("169a")),yt=Object(c["a"])(wt,$e,Ve,!1,null,"ec9930f8",null),_t=yt.exports;I()(yt,{VBtn:O["a"],VCard:re["a"],VCardActions:se["a"],VCardText:se["b"],VCardTitle:se["c"],VDialog:xt["a"],VSpacer:ye["a"]});var Ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{width:"100%"}},[a("v-card-title",[a("h2",{staticClass:"text-center full-width font-weight-thin"},[e._v(" Your "),a("span",{staticClass:"brand"},[e._v("Talk")]),e._v("s "),a("div",{staticClass:"divider"})])]),a("v-card-text",[e.requests.length>0?a("div",{staticClass:"talks"},[e._l(e.requests,(function(t,n){return[t.languageId?a("div",{key:"language-"+n},[e._v(e._s(t.languageId))]):a("div",{key:"language-"+n},[e._v(e._s(t.requestedLanguageId))]),a("div",{key:"status-"+n,staticClass:"center"},[a("PopupInfo",{key:"status-"+n,attrs:{chip:e.statusDisplay(t.status).label,title:e.statusDisplay(t.status).label,text:e.statusDisplay(t.status).text,icon:e.statusDisplay(t.status).icon,color:e.statusDisplay(t.status).color}}),t.scheduledAt?a("div",{staticClass:"flex-row-center"},[a("div",[a("div",{staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.momentInstance(t.scheduledAt).format("LT"))+" ")]),a("div",{staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.momentInstance(t.scheduledAt).format("D MMM (ddd)"))+" ")])])]):e._e()],1),a("div",{key:"join-"+n,staticClass:"join"},["NEW"===t.status?a("p",{staticClass:"small onhover"},[a("span",{staticClass:"brand"},[e._v("Talk")]),e._v(" will be here")]):"SCHEDULED"===t.status||"JOINED"===t.status?a("v-btn",{attrs:{fab:"",elevation:"5",color:"#aad8b0"},on:{click:function(a){return e.joinTalk(t)}}},[a("div",[e._v("Join "),a("div",{staticClass:"brand"},[e._v("Talk")])])]):e._e()],1),a("div",{key:"more-"+n},["CANCELLED"===t.status?[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.undoCancellation(t)}}},[a("v-icon",[e._v("undo")])],1)]:[a("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{icon:""}},n),[a("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[a("v-list",[t.dateTimes?a("v-list-item",{on:{click:function(a){e.dateTimeTableRequest=t}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(e.mdiCalendarMultiselect))])],1),a("v-list-item-title",[e._v("Show selected date/time")])],1):e._e(),"SCHEDULED"===t.status?a("v-list-item",{on:{click:function(a){return e.addToCalendar(t)}}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(e.mdiCalendarPlus))])],1),a("v-list-item-title",[e._v("Add to calendar")])],1):e._e(),"NEW"===t.status||"SCHEDULED"===t.status?a("v-list-item",{on:{click:function(a){return e.cancelRequest(t)}}},[a("v-list-item-icon",[a("v-icon",[e._v("cancel")])],1),a("v-list-item-title",[e._v("Cancel")])],1):e._e()],1)],1)]],2),e.requests.length-1!==n?a("div",{key:"line-"+n,staticClass:"line"}):e._e()]}))],2):a("div",[a("i",[e._v("Nothing has scheduled yet")])])]),a("DateTimeTable",{attrs:{request:e.dateTimeTableRequest},on:{close:function(t){e.dateTimeTableRequest=null}}})],1)},Tt=[],St=(a("99af"),a("8a79"),a("2b3d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.request?a("v-dialog",{attrs:{"max-width":"1024"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[a("v-card",[a("v-card-title",[e._v(" Selected Date/Time "),a("v-spacer"),a("v-icon",{on:{click:function(t){return e.$emit("close")}}},[e._v("close")])],1),a("v-card-text",[a("div",{staticClass:"dateTimes"},[a("div"),e._l(e.numberOfTimeSlots,(function(t){return a("div",{key:"row-"+t,staticClass:"row-header"},[t%2!==0?a("div",[e._v(" "+e._s(e.getTimeForIndex(t-1).format("LT").replace(/(:|\.)[0-9]{2}/,""))+" ")]):e._e()])})),e._l(e.dates.length,(function(t){return[(t-1)%e.numberOfTimeSlots===0?a("div",{key:"column-"+t,staticClass:"column-header"},[e._v(" "+e._s(e.getDateForIndex((t-1)/e.numberOfTimeSlots).format("ddd, D MMM"))+" ")]):e._e(),a("div",{key:t,class:"dateTime"+((t-1)%e.numberOfTimeSlots%2===0?" strip":"")+(e.isPreselected(t-1)?" selected":"")+(e.isScheduled(t-1)?" scheduled":"")},[a("div",{staticClass:"cell-content"},[e._v(" "+e._s(e.dates[t-1].format("LT"))+" ")])])]}))],2)])],1)],1):e._e()}),jt=[],Rt=(a("7db0"),{name:"DateTimeTable",props:{request:Object},data:function(){return{numberOfDate:7,timeStart:10,timeDelta:1,timeEnd:23,minToSelect:3,maxToSelect:20,showDialog:!1}},watch:{request:function(){this.showDialog=null!==this.request}},computed:{numberOfTimeSlots:function(){return(this.timeEnd-this.timeStart)/this.timeDelta},dates:function(){for(var e=[],t=w()(this.request.createdAt).add(1,"day"),a=0;a<this.numberOfDate;a++){t.startOf("day");for(var n=this.timeStart;n<this.timeEnd;n+=this.timeDelta)t.set("hour",n),e.push(t.clone());t=t.add(1,"day")}return e}},methods:{getTimeForIndex:function(e){var t=w()(this.request.createdAt).add(1,"day");return t.startOf("day"),t.set("hour",this.timeStart+e*this.timeDelta),t},getDateForIndex:function(e){var t=w()(this.request.createdAt).add(1+e,"day");return t.startOf("day"),t},isPreselected:function(e){var t=this;return this.request.dateTimes.find((function(a){return t.dates[e].isSame(a)}))},isScheduled:function(e){return this.request.scheduledAt&&this.dates[e].isSame(this.request.scheduledAt)}}}),It=Rt,Ot=(a("271d"),Object(c["a"])(It,St,jt,!1,null,"29f3d3e8",null)),Et=Ot.exports;I()(Ot,{VCard:re["a"],VCardText:se["b"],VCardTitle:se["c"],VDialog:xt["a"],VIcon:ge["a"],VSpacer:ye["a"]});var Ut=a("94ed"),Dt=(a("b0c0"),a("5530")),$t=a("bc3a"),Vt=function(){return{headers:{"X-User-Token":T.getUserToken()},withCredentials:!0}},At=null,Pt={},Mt="https://api.timetotalk.io",Lt={updateUserProfile:function(e,t){return Object(p["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return At.name=e,At.nativeLanguages=t,a.next=4,$t.post(Mt+"/api/private/user/profile",At,Vt());case 4:if(n=a.sent,200!==n.status){a.next=9;break}if(!n.data){a.next=9;break}return At=n.data,a.abrupt("return");case 9:throw Error("user profile updating issue");case 10:case"end":return a.stop()}}),a)})))()},getUserProfile:function(){return Object(p["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!At){e.next=2;break}return e.abrupt("return",At);case 2:return e.next=4,$t.get(Mt+"/api/private/user/profile",Vt());case 4:if(t=e.sent,200!==t.status){e.next=8;break}return t.data&&(At=t.data),e.abrupt("return",At);case 8:throw new Error("user profile retrieval issue");case 9:case"end":return e.stop()}}),e)})))()},isProfileFilled:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUserProfile();case 2:return a=t.sent,t.abrupt("return",a&&a.name);case 4:case"end":return t.stop()}}),t)})))()},getUserPublicProfile:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}if(!e.startsWith("fake-user-")){t.next=3;break}return t.abrupt("return",e);case 3:if(!Pt[e]){t.next=5;break}return t.abrupt("return",Pt[e]);case 5:return a={},a.userId=e,t.next=9,$t.get(Mt+"/api/private/user/profile/public",Object(Dt["a"])({params:a},Vt()));case 9:if(n=t.sent,200!==n.status){t.next=13;break}return n.data&&(Pt[e]=n.data),t.abrupt("return",Pt[e]);case 13:throw Error("user public profile retrieval issue");case 14:case"end":return t.stop()}}),t)})))()}},qt={name:"UserTalkList",components:{PopupInfo:Xe,DateTimeTable:Et},data:function(){return{requests:[],dateTimeTableRequest:null,mdiCalendarPlus:Ut["b"],mdiCalendarMultiselect:Ut["a"]}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.updateUserTalks(),Y.$on("update-user-talks",e.updateUserTalks);case 2:case"end":return t.stop()}}),t)})))()},destroyed:function(){Y.$off("update-user-talks",this.updateUserTalks)},methods:{updateUserTalks:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.getUpcomingScheduledRequests();case 2:e.requests=t.sent;case 3:case"end":return t.stop()}}),t)})))()},statusDisplay:function(e){switch(e){case"NEW":return{label:"Matching",color:null,icon:"search",text:"We are looking peers for your <span class='brand'>Talk</span>. Once we can find someone available at the same date/time, we will send you an email as well as update status here"};case"SCHEDULED":return{label:"Scheduled",color:"primary",icon:"schedule",text:"<span class='brand'>Talk</span> has been scheduled. Please feel free to join at specified date/time"};case"NOT_JOINED":return{label:"Not Joined",icon:"rowing",text:"You didn't joined <span class='brand'>Talk</span> at scheduled date/time. If it's a mistake please let us know"};case"CANCELLED":return{label:"Cancelled",icon:"cancel",text:"Request is cancelled. You can undo this action if it was unwanted"};case"FINISHED":return{label:"Finished",icon:"flag",text:"Conversation has been finished. We hope you had a nice <span class='brand'>Talk</span>. Please let us know if something went wrong"};case"JOINED":return{label:"In Progress",icon:"import_export",text:"<span class='brand'>Talk</span> is in progress!"};case"NOT_FULFILLED":return{label:"Not Fulfilled",icon:"block",text:"We could't find anyone. Please consider to select more date/time slots when scheduling"};default:return{label:e}}},momentInstance:function(e){return w()(e)},cancelRequest:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.cancelScheduleRequest(e.id);case 2:Y.$emit("update-user-talks");case 3:case"end":return t.stop()}}),t)})))()},undoCancellation:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.undoCancellation(e.id);case 2:Y.$emit("update-user-talks");case 3:case"end":return t.stop()}}),t)})))()},joinTalk:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,n=e.talkId,n){a.next=7;break}return a.next=5,H.requestTalk(e.languageId,!1);case 5:r=a.sent,200===r.status&&r.data.talkId&&(n=r.data.talkId);case 7:H.setCurrentTalkId(n),Y.$emit("new-talk"),t.$router.push("/app/talk/"+n),st.success("Joined Talk!","Please wait some time for others to join"),a.next=19;break;case 13:a.prev=13,a.t0=a["catch"](0),console.error(a.t0),H.clearCurrentTalk(),Y.$emit("new-talk"),403===a.t0.response.status&&t.$router.push({path:"/sign/in",query:{to:t.$router.currentRoute}});case 19:case"end":return a.stop()}}),a,null,[[0,13]])})))()},addToCalendar:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Lt.getUserProfile();case 2:a=t.sent,a&&a.email&&a.email.endsWith("@gmail.com")?(n=w()(e.scheduledAt).utc(),r="YYYYMMDDTHHmmss",s=new URL("https://www.google.com/calendar/event?action=TEMPLATE"),s.searchParams.append("dates","".concat(n.format(r),"Z/").concat(n.add(1,"hour").format(r),"Z")),s.searchParams.append("text","".concat(e.languageId," Talk")),s.searchParams.append("location","https://app.timetotalk.io/#/app/talk/scheduled/".concat(e.languageId)),s.searchParams.append("details","Time to Talk would like to invite you to join ".concat(e.languageId," conversation. Have fun!")),window.open(s.href,"_blank")):window.open("http://localhost:8081/api/public/scheduled/calendar.ics?r="+e.id,"_blank");case 4:case"end":return t.stop()}}),t)})))()}}},Nt=qt,Ft=(a("51cf"),Object(c["a"])(Nt,Ct,Tt,!1,null,"324ddbf6",null)),Wt=Ft.exports;I()(Ft,{VBtn:O["a"],VCard:re["a"],VCardText:se["b"],VCardTitle:se["c"],VIcon:ge["a"],VList:be["a"],VListItem:ke["a"],VListItemIcon:xe["a"],VListItemTitle:we["b"],VMenu:oe["a"]});var zt={name:"Home",components:{UserTalkList:Wt,ScheduleTalk:_t}},Bt=zt,Jt=(a("8660"),a("62ad")),Ht=a("0fd9"),Gt=Object(c["a"])(Bt,Ue,De,!1,null,"a721935c",null),Yt=Gt.exports;I()(Gt,{VCol:Jt["a"],VRow:Ht["a"]});var Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-center full-width"},[a("div",{staticClass:"card"},[a("h1",{staticClass:"text-center full-width font-weight-thin"},[e._v(" Profile ")]),a("div",[a("Avatar",{attrs:{"user-id":e.userId,size:"150"}})],1),a("div",{staticClass:"email"},[a("div",[e._v(e._s(e.email))])]),a("v-form",{ref:"form",staticClass:"full-width",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[a("v-text-field",{attrs:{label:"Name","prepend-inner-icon":"person",type:"text",hint:"Will be shared with your peers during conversation",rules:[e.InputRules.required]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-select",{attrs:{multiple:"",items:e.languages,label:"Native language(s)","prepend-inner-icon":"language",rules:[e.InputRules.required]},model:{value:e.nativeLanguages,callback:function(t){e.nativeLanguages=t},expression:"nativeLanguages"}}),a("v-btn",{attrs:{type:"submit",disabled:e.loading,block:"",color:"primary"}},[e._v("Save")])],1)],1)])},Xt=[],Kt={required:function(e){return!!e||"Required"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Invalid e-mail"},matchPasswords:function(e){return function(t){return t===e||"Passwords don't match"}}},Qt={name:"UserProfile",components:{Avatar:q},data:function(){return{loading:!0,name:null,email:null,nativeLanguages:null,languages:["English","Spanish","Chinese","French","Italian","Russian","German","Japanese","Other"],InputRules:Kt}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.getUserProfile();case 3:a=t.sent,n=e,e.$nextTick((function(){n.name=a.name?a.name:null,n.email=a.email?a.email:null,n.nativeLanguages=a.nativeLanguages?a.nativeLanguages:null}));case 6:return t.prev=6,e.loading=!1,t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[0,,6,9]])})))()},computed:{userId:function(){return T.getUserId()}},methods:{save:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||!e.$refs.form.validate()){t.next=15;break}return t.prev=1,e.loading=!0,t.next=5,Lt.updateUserProfile(e.name,e.nativeLanguages);case 5:a=e.$route.query.to,a&&e.$router.push(a),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})))()}}},ea=Qt,ta=a("8654"),aa=Object(c["a"])(ea,Zt,Xt,!1,null,"a6477976",null),na=aa.exports;I()(aa,{VBtn:O["a"],VForm:lt["a"],VSelect:tt["a"],VTextField:ta["a"]});var ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[e._m(0),e._m(1),a("EarlyAccess"),a("v-form",{ref:"form",staticClass:"full-width",on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[a("v-text-field",{ref:"email",attrs:{label:"Email",rules:[e.InputRules.required,e.InputRules.email],"prepend-inner-icon":"email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{label:"Password",rules:[e.InputRules.required],"prepend-inner-icon":"security",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-btn",{attrs:{type:"submit",disabled:e.loading,loading:e.loading,block:"",color:"primary"}},[e._v("Log in")])],1),a("div",{staticClass:"options"},[a("p",[e._v("Not a member? "),a("span",[a("router-link",{attrs:{to:"/sign/up"}},[e._v("Sign up")])],1),e._v(" for free now")]),a("p",[a("router-link",{attrs:{to:"/sign/reset"}},[e._v("Forgot password?")])],1)])],1)},sa=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"brand"},[a("a",{attrs:{href:"https://timetotalk.io"}},[e._v("Time to Talk")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:a("211b")}})])}],ia={name:"SignIn",components:{EarlyAccess:le},data:function(){return{loading:!1,email:null,password:null,InputRules:Kt}},created:function(){var e=this;this.$nextTick((function(){e.email=e.$route.query.email?e.$route.query.email:null,e.$refs.email.focus()}))},methods:{signIn:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||!e.$refs.form.validate()){t.next=16;break}return t.prev=1,e.loading=!0,t.next=5,T.singIn(e.email,e.password);case 5:a=e.$route.query.to,a?e.$router.push(a):e.$router.push("/"),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n=t.t0.response,n&&403===n.status&&"not validated"===n.data.reason?(e.$router.push("/sign/verify?email="+e.email),st.info("Almost there","Looks like you haven't yet verified your email. Please check you mailbox or resend if necessary.")):n&&403===n.status&&"not active"===n.data.reason?st.info("You are all set!","You account has not yet activated by our Team. Please be patient while we are providing access."):!n||404!==n.status&&403!==n.status?st.handleErrors(t.t0):st.alert("Try again","Sorry, this does not match our records. Check your spelling and try again.");case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})))()}}},oa=ia,ca=Object(c["a"])(oa,ra,sa,!1,null,"4f68dd18",null),la=ca.exports;I()(ca,{VBtn:O["a"],VForm:lt["a"],VTextField:ta["a"]});var ua=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[e._m(0),e._m(1),a("EarlyAccess"),a("v-form",{ref:"form",staticClass:"full-width",on:{submit:function(t){return t.preventDefault(),e.signUp(t)}}},[a("v-text-field",{ref:"email",attrs:{label:"Email",rules:[e.InputRules.required,e.InputRules.email],"prepend-inner-icon":"email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-btn",{attrs:{type:"submit",disabled:e.loading,loading:e.loading,block:"",color:"primary"}},[e._v("Sign Up")])],1),a("div",{staticClass:"options"},[a("p",[e._v("Already a member? "),a("span",[a("router-link",{attrs:{to:"/sign/in"}},[e._v("Log in")])],1)])])],1)},da=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"brand"},[a("a",{attrs:{href:"https://timetotalk.io"}},[e._v("Time to Talk")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{src:a("211b")}})])}],fa={name:"SignUp",components:{EarlyAccess:le},data:function(){return{loading:!1,email:null,InputRules:Kt}},created:function(){var e=this;this.$nextTick((function(){e.email=e.$route.query.email?e.$route.query.email:null,e.$refs.email.focus()}))},methods:{signUp:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||!e.$refs.form.validate()){t.next=17;break}return t.prev=1,e.loading=!0,t.next=5,T.signUp(e.email);case 5:a=t.sent,200===a.status&&(e.$router.push("/sign/verify?email="+e.email),st.success("Sign up successful","Please check your email to verify your account.")),t.next=14;break;case 9:t.prev=9,t.t0=t["catch"](1),n=t.t0.response,console.error(n),406===n.status&&"Account already exists"===n.data.reason?st.alert("Invalid Email","This email is not available. Choose a different address."):st.handleErrors(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,9,14,17]])})))()}}},pa=fa,ma=Object(c["a"])(pa,ua,da,!1,null,"3cb2066b",null),ha=ma.exports;I()(ma,{VBtn:O["a"],VForm:lt["a"],VTextField:ta["a"]});var va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[e._m(0),a("div",{staticClass:"avatar-content"},[a("div",{domProps:{innerHTML:e._s(e.avatar)}}),a("div",{staticClass:"email"},[e._v(e._s(e.email))])]),a("v-form",{ref:"form",staticClass:"full-width",on:{submit:function(t){return t.preventDefault(),e.validate(t)}}},[a("v-text-field",{attrs:{label:"Key from email",rules:[e.InputRules.required],"prepend-inner-icon":"vpn_key",type:"text"},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}}),a("v-text-field",{attrs:{label:"Password",rules:[e.InputRules.required],"prepend-inner-icon":"security",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{attrs:{label:"Repeat Password",rules:[e.InputRules.required,e.InputRules.matchPasswords(e.password)],"prepend-inner-icon":"security",type:"password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),a("v-btn",{attrs:{type:"submit",disabled:e.loading,loading:e.loading,block:"",color:"primary"}},[e._v("Set password")])],1),a("div",{staticClass:"options"},[e._m(1),a("p",[e._v("Need to resend verification? "),a("v-btn",{attrs:{disabled:e.loadingResend,loading:e.loadingResend,outlined:"",small:"",color:"primary"},on:{click:e.resendValidation}},[e._v("Resend ")])],1),a("p",[e._v("Already a member? "),a("span",[a("router-link",{attrs:{to:"/sign/in"}},[e._v("Log in")])],1)])])],1)},ga=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"brand"},[a("a",{attrs:{href:"https://timetotalk.io"}},[e._v("Time to Talk")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("i",[e._v("If you can't find email, please check your spam folder")])])}],ba={name:"VerifyEmail",data:function(){return{loading:!1,loadingResend:!1,email:null,key:null,password:null,password2:null,InputRules:Kt}},created:function(){var e=this;this.$nextTick((function(){e.email=e.$route.query.email?e.$route.query.email:null,e.key=e.$route.query.key?e.$route.query.key:null}))},computed:{presetKey:function(){return this.$route.query.key?this.$route.query.key:null},avatar:function(){return A.a.toSvg(this.email,100)}},methods:{match:function(e){return console.info(this.password),e===this.password||"Passwords don't match"},validate:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||!e.$refs.form.validate()){t.next=16;break}return t.prev=1,e.loading=!0,t.next=5,T.validateUserAccount(e.email,e.key,e.password);case 5:a=t.sent,200===a.status&&(e.$router.push("/sign/in?email="+e.email),st.success("You are all set!","Please log in the system")),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n=t.t0.response,400===n.status&&"Invalid validation key"===n.data.reason?st.alert("Invalid validation key","Please check you mailbox or resend if necessary"):400===n.status&&"Update was not requested"===n.data.reason?st.info("Not requested","Password update wasn't requested for this account"):st.handleErrors(t.t0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})))()},resendValidation:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loadingResend){t.next=16;break}return t.prev=1,e.loadingResend=!0,t.next=5,T.resetPassword(e.email);case 5:a=t.sent,200===a.status&&st.success("Success","We've sent email with new verification code."),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n=t.t0.response,404===n.status?st.alert("Invalid email","Email is not registered. Please sign up."):st.handleErrors(t.t0);case 13:return t.prev=13,e.loadingResend=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})))()}}},ka=ba,wa=Object(c["a"])(ka,va,ga,!1,null,"160ecfae",null),xa=wa.exports;I()(wa,{VBtn:O["a"],VForm:lt["a"],VTextField:ta["a"]});var ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card"},[e._m(0),a("h3",[e._v("Reset password")]),a("v-form",{ref:"form",staticClass:"full-width",on:{submit:function(t){return t.preventDefault(),e.resetPassword(t)}}},[a("v-text-field",{ref:"email",attrs:{label:"Email",rules:[e.InputRules.required,e.InputRules.email],"prepend-inner-icon":"email",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-btn",{attrs:{type:"submit",disabled:e.loading,loading:e.loading,block:"",color:"primary"}},[e._v("Reset password ")])],1),a("div",{staticClass:"options"},[a("p",[e._v("Not a member? "),a("span",[a("router-link",{attrs:{to:"/sign/up"}},[e._v("Sign up")])],1),e._v(" for free now")])])],1)},_a=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"brand"},[a("a",{attrs:{href:"https://timetotalk.io"}},[e._v("Time to Talk")])])}],Ca={name:"ResetPassword",data:function(){return{loading:!1,email:null,InputRules:Kt}},created:function(){var e=this;this.$nextTick((function(){e.email=e.$route.query.email?e.$route.query.email:null,e.$refs.email.focus()}))},methods:{resetPassword:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading||!e.$refs.form.validate()){t.next=16;break}return t.prev=1,e.loading=!0,t.next=5,T.resetPassword(e.email);case 5:a=t.sent,200===a.status&&(e.$router.push("/sign/verify?email="+e.email),st.success("Done","We've sent email with new validation code/link. Please check your mail box and set new password.")),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](1),n=t.t0.response,404===n.status?st.alert("Email is not registered","Please double check email or sign up"):st.handleErrors(t.t0);case 13:return t.prev=13,e.loading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,9,13,16]])})))()}}},Ta=Ca,Sa=Object(c["a"])(Ta,ya,_a,!1,null,"4354c3b2",null),ja=Sa.exports;I()(Sa,{VBtn:O["a"],VForm:lt["a"],VTextField:ta["a"]});var Ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"talk-main"},[a("div",{staticClass:"head"},[a("WsStatus"),a("h2",{staticClass:"ml-2"},[e._v(e._s(e.language))])],1),a("div",{staticClass:"media"},[a("Media",{attrs:{talkId:e.talkId,language:e.language}})],1),a("div",{staticClass:"chat"},[a("ChatWrapper")],1)])},Ia=[],Oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"media"},[a("div",{class:"users-grid users-grid-for-"+(e.remoteUsers.length+1)},[e.mediaStream?a("LocalUser",{attrs:{mediaStream:e.mediaStream}}):e._e(),0===e.remoteUsers.length?a("div",{staticClass:"users-placeholder"},[a("h3",[e._v("Waiting others")]),a("h5",[e._v("Your peers have "+e._s(e.formatSeconds(e.countDown))+" to connect")]),a("p",{staticClass:"mt-5"},[e._v("Nobody available online right now? Try to")]),a("v-btn",{staticClass:"green-button",on:{click:function(t){e.scheduleTalkDialog=!0}}},[a("span",[e._v("Schedule "),a("span",{staticClass:"brand"},[e._v("Talk")])])]),a("v-dialog",{attrs:{persistent:"","max-width":"1024"},model:{value:e.scheduleTalkDialog,callback:function(t){e.scheduleTalkDialog=t},expression:"scheduleTalkDialog"}},[e.scheduleTalkDialog?a("ScheduleTalk",{attrs:{"language-pre":e.language},on:{finishScheduling:function(t){e.scheduleTalkDialog=!1}}}):e._e()],1)],1):e._e(),e._l(e.remoteUsers,(function(t){return a("RemoteUser",{key:t.id,attrs:{mediaStream:e.mediaStream,localUser:e.localUser,remoteUser:t},on:{disconnected:e.remoteDisconnected}})}))],2)])},Ea=[],Ua=(a("c740"),a("a434"),"https://api.timetotalk.io");window.onerror=function(e,t,a){var n="window.onerror msg="+encodeURIComponent(e)+"&amp;url="+encodeURIComponent(t)+"&amp;line="+a;y.a.post(Ua+"/api/public/logger",n)};var Da={info:function(e){console.log(e),y.a.post(Ua+"/api/public/logger",e)},error:function(e){console.error(e),y.a.post(Ua+"/api/public/logger","ERROR: "+e)}},$a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"self"},[a("video",{attrs:{id:"video-self",autoplay:"",playsinline:"",muted:""},domProps:{muted:!0}}),a("div",{staticClass:"layer-grid"},[a("v-btn",{staticClass:"mute-video no-focus",attrs:{color:"secondary",fab:""},on:{click:e.muteVideo}},[e.videoEnabled?a("v-icon",[e._v("videocam")]):a("v-icon",[e._v("videocam_off")])],1),a("v-btn",{staticClass:"mute-audio no-focus",attrs:{color:"secondary",fab:""},on:{click:e.muteAudio}},[e.audioEnabled?a("v-icon",[e._v("mic")]):a("v-icon",[e._v("mic_off")])],1)],1)])},Va=[],Aa={name:"LocalUser",props:{mediaStream:MediaStream},data:function(){return{videoEnabled:!0,audioEnabled:!0}},mounted:function(){var e=document.querySelector("#video-self");e.srcObject=this.mediaStream},methods:{muteVideo:function(){var e=this;this.videoEnabled=!this.videoEnabled,this.mediaStream.getVideoTracks().forEach((function(t){return t.enabled=e.videoEnabled}))},muteAudio:function(){var e=this;this.audioEnabled=!this.audioEnabled,this.mediaStream.getAudioTracks().forEach((function(t){return t.enabled=e.audioEnabled}))}}},Pa=Aa,Ma=(a("2384"),Object(c["a"])(Pa,$a,Va,!1,null,"4cb56e01",null)),La=Ma.exports;I()(Ma,{VBtn:O["a"],VIcon:ge["a"]});var qa,Na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"remote-user"},[a("video",{staticClass:"video",attrs:{id:"video-"+e.remoteUser.id,autoplay:"",playsinline:""}}),a("div",{staticClass:"layer-grid"},[e.remoteUser.name?a("div",{staticClass:"name"},[e._v(e._s(e.remoteUser.name||""))]):e._e(),a("div",{staticClass:"add-peer"},[a("v-menu",{attrs:{bottom:"",origin:"center center",transition:"scale-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"no-focus",attrs:{color:"e0e0e0",fab:""}},n),[a("v-icon",[e._v("person_add")])],1)]}}])},[a("v-card",{attrs:{"max-width":"300px"}},[a("v-card-text",[a("h2",[e._v("Add peer as your friend is coming soon.")]),a("p",[e._v("You will be able to see when friends are online and create "),a("span",{staticClass:"brand"},[e._v("Talk")]),e._v(" with him/her")]),a("p",[e._v(" Any other ideas? Please let us know: "),a("a",{attrs:{href:"mailto:info@timetotalk.io?subject=Time to Talk feedback"}},[e._v("info@timetotalk.io")])])])],1)],1)],1)])])},Fa=[],Wa="fake-user-"+Math.floor(1e4*Math.random()),za=new Set(["JOINED","OFFER","ANSWER","CANDIDATE","LEFT","TALK_INFO","CHAT_MESSAGE"]),Ba=[],Ja={openWS:function(e){var t=this;try{var a="wss://api.timetotalk.io/ws?X-User-Token="+T.getUserToken()+"&talk="+e;"global"===e&&(a+="&X-Fake-User-Id="+Wa),qa=new WebSocket(a),window.webSocket=qa,qa.onopen=function(){Ba.forEach((function(e){return t.send(e)})),Y.$emit("ws-opened")},qa.onmessage=function(e){try{var t=JSON.parse(e.data);za.has(t.type)&&Y.$emit("ws-message-"+t.type,t)}catch(a){Da.info("WS onmessage ERROR: "+a)}},qa.onerror=function(e){return Y.$emit("ws-error",e)},qa.onclose=function(e){return Y.$emit("ws-closed",e)}}catch(n){Da.error("WS connection issues: "+n)}},send:function(e){qa&&1===qa.readyState?qa.send(JSON.stringify(e)):Ba.push(e)},isReady:function(){return qa&&1===qa.readyState},closeWS:function(){Ba=[],qa&&qa.close()}},Ha={name:"RemoteUser",props:{localUser:Object,remoteUser:Object,mediaStream:MediaStream},data:function(){return{audioEnabled:!0,volume:100}},created:function(){this.createPeerConnection()},destroyed:function(){try{this.remoteUser.pc.close()}catch(e){Da.error("PC closing issue: "+e)}},watch:{volume:function(){this.getVideoElement().volume=this.volume/100}},methods:{createPeerConnection:function(){var e=this;try{var t={iceServers:[{urls:["stun:stun.l.google.com:19302"]},{urls:["stun:stun1.l.google.com:19302"]},{urls:["stun:stun2.l.google.com:19302"]},{urls:["stun:stun3.l.google.com:19302"]},{urls:["stun:stun4.l.google.com:19302"]},{urls:["turn:api.timetotalk.io:5349?transport=udp","turn:api.timetotalk.io:5349?transport=tcp"],username:"test",credential:"key"}]};this.remoteUser.pc=new RTCPeerConnection(t),this.remoteUser.pc.ontrack=this.handleRemoteTrack,this.remoteUser.pc.onicecandidate=this.handleIceCandidate,this.remoteUser.pc.oniceconnectionstatechange=this.handleStateChange,this.mediaStream.getTracks().forEach((function(t){return e.remoteUser.pc.addTrack(t,e.mediaStream)})),this.remoteUser.offer?this.remoteUser.pc.onnegotiationneeded=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.remoteUser.pc.setRemoteDescription(new RTCSessionDescription(e.remoteUser.offer));case 3:return t.next=5,e.remoteUser.addIceCandidates(e.remoteUser);case 5:return t.next=7,e.createRTCAnswer();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Da.info("Remote ["+e.remoteUser.id+"] PC on offer ERROR: "+JSON.stringify(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))):this.remoteUser.pc.onnegotiationneeded=this.createRTCOffer}catch(a){Da.info("Remote ["+this.remoteUser.id+"] PC ERROR: "+JSON.stringify(a))}},createRTCOffer:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},t.prev=1,t.next=4,e.remoteUser.pc.createOffer(a);case 4:return n=t.sent,t.next=7,e.remoteUser.pc.setLocalDescription(n);case 7:r={type:"OFFER",from:e.localUser.id,to:e.remoteUser.id,payload:e.remoteUser.pc.localDescription},console.log("Sending:"+r),Ja.send(r),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),Da.info("Remote ["+e.remoteUser.id+"] PC create offer ERROR: "+JSON.stringify(t.t0)),console.log("cannot create offer: "+t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()},createRTCAnswer:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},t.prev=1,t.next=4,e.remoteUser.pc.createAnswer(a);case 4:return n=t.sent,t.next=7,e.remoteUser.pc.setLocalDescription(n);case 7:r={type:"ANSWER",from:e.localUser.id,to:e.remoteUser.id,payload:e.remoteUser.pc.localDescription},console.log("Sending:"+r),Ja.send(r),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),Da.info("Remote ["+e.remoteUser.id+"] PC create answer ERROR: "+JSON.stringify(t.t0)),console.log("cannot create answer: "+t.t0);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()},handleIceCandidate:function(e){try{e.candidate?(Da.info("send iceCandidate event: "+e+" for user: "+this.remoteUser.id),Ja.send({type:"CANDIDATE",from:this.localUser.id,to:this.remoteUser.id,payload:e.candidate})):console.log("end of candidates")}catch(t){Da.info("Remote ["+this.remoteUser.id+"] Handle ice candidate ERROR: "+JSON.stringify(t))}},handleRemoteTrack:function(e){try{this.getVideoElement().srcObject=e.streams[0]}catch(e){Da.info("Remote ["+this.remoteUser.id+"] Remote track ERROR: "+JSON.stringify(e))}},handleStateChange:function(){console.log("handleStateChange event:"+this.remoteUser.pc.iceConnectionState);var e=this.remoteUser.pc.iceConnectionState;"failed"!==e&&"disconnected"!==e&&"closed"!==e||this.$emit("disconnected",this.remoteUser.id)},muteVideo:function(){var e=this;this.videoEnabled=!this.videoEnabled,this.mediaStream.getVideoTracks().forEach((function(t){return t.enabled=e.videoEnabled}))},getVideoElement:function(){return document.querySelector("#video-"+this.remoteUser.id)},muteAudio:function(){this.audioEnabled=!this.audioEnabled,this.getVideoElement().muted=!this.audioEnabled}}},Ga=Ha,Ya=(a("77ac"),Object(c["a"])(Ga,Na,Fa,!1,null,"f858c1fa",null)),Za=Ya.exports;I()(Ya,{VBtn:O["a"],VCard:re["a"],VCardText:se["b"],VIcon:ge["a"],VMenu:oe["a"]});var Xa={name:"Media",components:{ScheduleTalk:bt,RemoteUser:Za,LocalUser:La},props:{language:String},data:function(){return{fakeUserId:null,countDown:599,countDownInterval:null,mediaStream:null,localUser:null,remoteUsers:[],fullScreen:!1,connectionEstablished:!1,reconnectRequired:!0,connectionAttempts:0,scheduleTalkDialog:!1}},mounted:function(){this.fakeUserId=this.$route.query.user||"fake-user-"+Math.floor(1e4*Math.random()),window.remoteUsers=this.remoteUsers,Da.info("webrtc-adapter: ".concat(JSON.stringify(window.adapter.browserDetails))),this.initiateVideoStream(),this.startCountDown()},created:function(){Y.$on("ws-message-JOINED",this.joinedMessage),Y.$on("ws-message-OFFER",this.offerMessage),Y.$on("ws-message-ANSWER",this.answerMessage),Y.$on("ws-message-CANDIDATE",this.candidateMessage),Y.$on("ws-message-LEFT",this.leftMessage)},destroyed:function(){Y.$off("ws-message-JOINED",this.joinedMessage),Y.$off("ws-message-OFFER",this.offerMessage),Y.$off("ws-message-ANSWER",this.answerMessage),Y.$off("ws-message-CANDIDATE",this.candidateMessage),Y.$off("ws-message-LEFT",this.leftMessage),this.reconnectRequired=!1,null!=this.mediaStream&&this.mediaStream.getTracks().forEach((function(e){return e.stop()})),this.stopCountDown()},watch:{remoteUsers:function(){0===this.remoteUsers.length?this.startCountDown():this.stopCountDown()}},methods:{initiateVideoStream:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,navigator.getUserMedia||(navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){t.next=7;break}return t.next=5,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 5:e.mediaStream=t.sent,Ja.send({type:"JOIN"});case 7:t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),Da.error("camera permission declined"),st.alert("No access to camera","Please grant us access to your camera for video chat");case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},joinedMessage:function(e){var t=this;this.localUser={id:e.user},e.users.forEach((function(e){t.addRemoteUser({id:e})}))},offerMessage:function(e){this.addRemoteUser({id:e.from,offer:e.payload})},answerMessage:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.findRemoteUserById(e.from),a.next=3,n.pc.setRemoteDescription(new RTCSessionDescription(e.payload));case 3:return a.next=5,n.addIceCandidates(n);case 5:case"end":return a.stop()}}),a)})))()},candidateMessage:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.findRemoteUserById(e.from),n.iceCandidates.push(e),!(n.pc&&n.pc.remoteDescription&&n.pc.remoteDescription.type)){a.next=5;break}return a.next=5,n.addIceCandidates(n);case 5:case"end":return a.stop()}}),a)})))()},leftMessage:function(e){this.removeRemoteUser(e.user)},addIceCandidates:function(e){return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.iceCandidates&&e.iceCandidates.length>0)){t.next=13;break}return a=e.iceCandidates.shift(),t.prev=2,n=new RTCIceCandidate({sdpMid:a.payload.sdpMid,sdpMLineIndex:a.payload.sdpMLineIndex,candidate:a.payload.candidate}),t.next=6,e.pc.addIceCandidate(n);case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),Da.error("Adding candidate issue: "+t.t0+" "+JSON.stringify(a));case 11:t.next=0;break;case 13:case"end":return t.stop()}}),t,null,[[2,8]])})))()},remoteDisconnected:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Da.error("Remote user was disconnected localUser "+t.localUser.id+" remote "+e),n=t.findRemoteUserById(e).hasOwnProperty("offer"),t.removeRemoteUser(e),t.reconnectRequired&&!n?(Da.info("Reconnect is required "+t.localUser.id+" remote "+e),t.$nextTick((function(){t.addRemoteUser({id:e})}))):Da.info("Reconnect is not required "+t.localUser.id+"condition: "+t.reconnectRequired+" "+n);case 4:case"end":return a.stop()}}),a)})))()},findRemoteUserById:function(e){var t=this.findIndexRemoteUserById(e);return t>=0?this.remoteUsers[t]:null},findIndexRemoteUserById:function(e){return this.remoteUsers.findIndex((function(t){return t.id===e}))},addRemoteUser:function(e){var t=this;this.findRemoteUserById(e.id)&&(Da.info("Remote user already connected: localUser "+this.localUser+" remote "+JSON.stringify(e)+" removing..."),this.removeRemoteUser(e.id)),this.$nextTick((function(){e.iceCandidates=[],e.addIceCandidates=t.addIceCandidates,t.remoteUsers.push(e),Da.info("Remote user added: localUser "+t.localUser+" remote "+JSON.stringify(e))}))},removeRemoteUsers:function(){this.remoteUsers=[]},removeRemoteUser:function(e){var t=this.findRemoteUserById(e);if(null!=t){var a=this.findIndexRemoteUserById(t.id);-1!==a&&this.remoteUsers.splice(a,1)}},toggleFullScreen:function(){"global"===this.talkId&&(this.fullScreen=!this.fullScreen)},formatSeconds:function(e){var t=parseInt(e/60,10),a=parseInt(e%60,10);return t=t,a=a<10?"0"+a:a,t+":"+a},startCountDown:function(){var e=this;this.stopCountDown(),this.countDown=599,this.countDownInterval=setInterval((function(){e.countDown>0&&e.countDown--}),1e3)},stopCountDown:function(){this.countDownInterval&&clearInterval(this.countDownInterval)}}},Ka=Xa,Qa=(a("3cc5"),Object(c["a"])(Ka,Oa,Ea,!1,null,"c97014bc",null)),en=Qa.exports;I()(Qa,{VBtn:O["a"],VDialog:xt["a"]});var tn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat-wrapper-main"},[0===e.newMessages?a("v-btn",{staticClass:"show-chat ma-2",attrs:{color:"secondary",fab:"",small:""},on:{click:function(t){e.drawer=!0}}},[a("v-icon",[e._v("chat")])],1):a("v-badge",{staticClass:"show-chat ma-2",attrs:{color:"primary",content:e.newMessages,bordered:"","offset-x":"15","offset-y":"15"},nativeOn:{click:function(t){e.drawer=!0}}},[a("v-btn",{attrs:{color:"secondary",fab:"",small:""},on:{click:function(t){e.drawer=!0}}},[a("v-icon",[e._v("chat")])],1)],1),a("div",{staticClass:"chat-wrapper",class:{"chat-wrapper-collapsed":!e.drawer}},[a("v-btn",{staticClass:"collapse",attrs:{color:"secondary",fab:"",small:""},on:{click:function(t){e.drawer=!1}}},[a("v-icon",[e._v("chevron_right")])],1),a("Chat")],1)],1)},an=[],nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chat"},[a("div",{ref:"messages",staticClass:"messages"},e._l(e.messages,(function(t,n){return a("div",{key:n,staticClass:"message"},[a("div",{staticClass:"avatar"},[a("Avatar",{attrs:{"user-id":t.userId,size:"35"}})],1),a("div",{staticClass:"name"},[e._v(e._s(t.name))]),a("div",{staticClass:"text"},e._l(t.text,(function(t,n){return a("span",{key:n},["url"===t.type?[a("a",{attrs:{target:"_blank",href:t.value}},[e._v(e._s(t.value))])]:[e._v(" "+e._s(t.value)+" ")]],2)})),0)])})),0),a("v-text-field",{attrs:{autofocus:"",type:"text",placeholder:"Write your message here","append-icon":"send"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage(t)},"click:append":e.sendMessage},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)},rn=[],sn=(a("a4d3"),a("e01a"),a("d28b"),a("fb6a"),a("498a"),a("2909")),on="https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)",cn={name:"Chat",components:{Avatar:q},data:function(){return{text:"",messages:[]}},created:function(){Y.$on("ws-message-CHAT_MESSAGE",this.newChatMessage)},destroyed:function(){Y.$off("ws-message-CHAT_MESSAGE",this.newChatMessage)},methods:{newChatMessage:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.messages){a.next=27;break}n=!0,r=!1,s=void 0,a.prev=4,i=e.messages[Symbol.iterator]();case 6:if(n=(o=i.next()).done){a.next=13;break}return c=o.value,a.next=10,t.displayMessage(c);case 10:n=!0,a.next=6;break;case 13:a.next=19;break;case 15:a.prev=15,a.t0=a["catch"](4),r=!0,s=a.t0;case 19:a.prev=19,a.prev=20,n||null==i.return||i.return();case 22:if(a.prev=22,!r){a.next=25;break}throw s;case 25:return a.finish(22);case 26:return a.finish(19);case 27:case"end":return a.stop()}}),a,null,[[4,15,19,27],[20,,22,26]])})))()},sendMessage:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.text){t.next=6;break}return a={text:e.text,type:"CHAT_MESSAGE",userId:T.getUserId()},Ja.send(a),t.next=5,e.displayMessage(a);case 5:e.text="";case 6:case"end":return t.stop()}}),t)})))()},displayMessage:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var n,r,s,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e){a.next=13;break}if(n=e.text.trim(),!(n.length>0)){a.next=13;break}return r=Object(sn["a"])(n.matchAll(on)),s=[],i=0,r.length>0&&r.forEach((function(e){s.push({type:"text",value:n.slice(i,e.index)}),s.push({type:"url",value:e[0]}),i=e.index+e[0].length})),s.push({type:"text",value:n.substr(i,n.length)}),a.next=10,Lt.getUserPublicProfile(e.userId);case 10:o=a.sent,t.messages.push({text:s,userId:e.userId,name:o&&o.name?o.name:"",id:e.id}),t.$nextTick((function(){var e=t.$refs.messages;e.scrollTop=t.$refs.messages.scrollHeight}));case 13:case"end":return a.stop()}}),a)})))()}}},ln=cn,un=(a("0d95"),Object(c["a"])(ln,nn,rn,!1,null,"5e73e971",null)),dn=un.exports;I()(un,{VTextField:ta["a"]});var fn={name:"ChatWrapper",components:{Chat:dn},data:function(){return{chatDialog:!0,mini:!0,drawer:!1,newMessages:0}},created:function(){Y.$on("ws-message-CHAT_MESSAGE",this.newChatMessage)},destroyed:function(){Y.$off("ws-message-CHAT_MESSAGE",this.newChatMessage)},watch:{drawer:function(){this.drawer&&(this.newMessages=0)}},methods:{newChatMessage:function(e){e.messages&&!this.drawer&&(this.newMessages+=e.messages.length)}}},pn=fn,mn=(a("c2c7"),a("4ca6")),hn=Object(c["a"])(pn,tn,an,!1,null,"700661f7",null),vn=hn.exports;I()(hn,{VBadge:mn["a"],VBtn:O["a"],VIcon:ge["a"]});var gn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"status"},[e.ready?a("v-icon",{attrs:{color:"#52bb45"}},[e._v("cloud_queue")]):a("v-icon",[e._v("cloud_off")])],1)},bn=[],kn={name:"WsStatus",data:function(){return{ready:!1,interval:null}},created:function(){var e=this;this.interval=setInterval((function(){e.ready=Ja.isReady()}),1500)},destroyed:function(){clearInterval(this.interval)}},wn=kn,xn=Object(c["a"])(wn,gn,bn,!1,null,"48df14e6",null),yn=xn.exports;I()(xn,{VIcon:ge["a"]});var _n={name:"TalkMain",props:{talkId:String},components:{WsStatus:yn,ChatWrapper:vn,Media:en},data:function(){return{language:null}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return Y.$on("ws-opened",e.wsOpened),Y.$on("ws-error",e.reconnectWS),Y.$on("ws-closed",e.reconnectWS),Ja.openWS(e.talkId),t.next=6,H.getTalkInfo(e.talkId);case 6:a=t.sent,a&&(e.language=a.language),n={appCodeName:navigator.appCodeName,appName:navigator.appName,appVersion:navigator.appVersion,cookieEnabled:navigator.cookieEnabled,language:navigator.language,onLine:navigator.onLine,platform:navigator.platform,userAgent:navigator.userAgent},Da.info("Client info: "+e.fakeUserId+JSON.stringify(n));case 10:case"end":return t.stop()}}),t)})))()},destroyed:function(){Y.$off("ws-opened",this.wsOpened),Y.$off("ws-error",this.reconnectWS),Y.$off("ws-closed",this.reconnectWS),Ja.send({type:"LEAVE"}),Ja.closeWS()},methods:{wsOpened:function(){},reconnectWS:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:4404===e.code?(st.alert("","Looks like talk wasn't found. Please join another one."),t.$router.push("/")):4403===e.code&&(st.alert("","You do not have access to this talk. Please join another one."),t.$router.push("/"));case 1:case"end":return a.stop()}}),a)})))()}}},Cn=_n,Tn=(a("07e6"),Object(c["a"])(Cn,Ra,Ia,!1,null,"6314be10",null)),Sn=Tn.exports,jn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("Joining your scheduled talk")])},Rn=[],In={name:"JoinScheduledTalk",props:{language:String},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.requestTalk(e.language,!1);case 3:a=t.sent,200===a.status&&a.data.talkId&&(H.setCurrentTalkId(a.data.talkId),Y.$emit("new-talk"),e.$router.push("/app/talk/"+a.data.talkId),st.success("Joined Talk!","Please wait some time for others to join")),t.next=13;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error(t.t0),H.clearCurrentTalk(),Y.$emit("new-talk"),403===t.t0.response.status&&e.$router.push({path:"/sign/in",query:{to:e.$router.currentRoute}});case 13:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},On=In,En=Object(c["a"])(On,jn,Rn,!1,null,"1839c138",null),Un=En.exports,Dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"card"},[a("p",[e._v("Your "),a("span",{staticClass:"brand"},[e._v("Talk")]),e._v(" has been cancelled")]),a("p",[e._v("Thanks a lot for letting us know!")]),a("br"),a("p",[e._v("To start a new one, go to "),a("a",{staticClass:"brand",attrs:{href:"https://app.timetotalk.io"}},[e._v("Time to Talk")])])])},$n=[],Vn={name:"CancelScheduled",created:function(){var e=this.$route.query.token;e&&H.cancelScheduledWithToken(e)}},An=Vn,Pn=Object(c["a"])(An,Dn,$n,!1,null,"c9a10710",null),Mn=Pn.exports;I()(Pn,{VCard:re["a"]}),n["a"].use(m["a"]);var Ln=new m["a"]({routes:[{path:"/",redirect:"/app"},{path:"/app",component:Te,children:[{path:"",component:Yt},{path:"profile",component:na},{path:"talk/:talkId",component:Sn,props:!0},{path:"talk/scheduled/:language",component:Un,props:!0}]},{path:"/sole",component:Ee,children:[{path:"profile",component:na}]},{path:"/sign",component:Ee,children:[{path:"",redirect:"in"},{path:"in",component:la},{path:"up",component:ha},{path:"verify",component:xa},{path:"reset",component:ja}]},{path:"/direct",component:Ee,children:[{path:"scheduled/cancel",component:Mn}]}]});Ln.beforeEach(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,a,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("/app/talk/global"!==t.path){e.next=3;break}return n(),e.abrupt("return");case 3:if(!t.matched.some((function(e){return e.path.startsWith("/app")||e.path.startsWith("/sole")}))){e.next=20;break}return e.next=6,T.isAuthenticated();case 6:if(!e.sent){e.next=17;break}if(!t.matched.some((function(e){return e.path.startsWith("/app")}))){e.next=14;break}return e.next=10,Lt.isProfileFilled();case 10:r=e.sent,r?n():n({path:"/sole/profile",query:{to:t.path}}),e.next=15;break;case 14:n();case 15:e.next=18;break;case 17:n({path:"/sign/in",query:{to:t.path}});case 18:e.next=21;break;case 20:n();case 21:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()),Ln.afterEach((function(){}));var qn=Ln,Nn=a("2f62"),Fn=a("bfa9");n["a"].use(Nn["a"]);var Wn=new Fn["a"]({key:"ttt-app",storage:window.localStorage}),zn={namespaced:!0,state:{talkStatus:null,talkDetails:null},mutations:{talkStatus:function(e,t){e.talkStatus=t},talkDetails:function(e,t){e.talkDetails=t}},actions:{},modules:{}},Bn=new Nn["a"].Store({modules:{talk:zn},plugins:[Wn.plugin]}),Jn=a("88b0"),Hn=a.n(Jn);n["a"].config.productionTip=!1;var Gn={durations:{global:8e3},icons:{enabled:!1}};n["a"].use(Hn.a,Gn);var Yn=new n["a"]({router:qn,vuetify:f,store:Bn,render:function(e){return e(u)}}).$mount("#app");st.init(Yn.$awn)},7017:function(e,t,a){},7554:function(e,t,a){},"77ac":function(e,t,a){"use strict";var n=a("e2d3"),r=a.n(n);r.a},"7c15":function(e,t,a){"use strict";var n=a("4979"),r=a.n(n);r.a},8034:function(e,t,a){},"805d":function(e,t,a){},8660:function(e,t,a){"use strict";var n=a("537d"),r=a.n(n);r.a},"882d":function(e,t,a){},"8ffd":function(e,t,a){},"922c":function(e,t,a){"use strict";var n=a("4449"),r=a.n(n);r.a},9743:function(e,t,a){},"9bcd":function(e,t,a){},"9e0d":function(e,t,a){"use strict";var n=a("2501"),r=a.n(n);r.a},a5b4:function(e,t,a){"use strict";var n=a("805d"),r=a.n(n);r.a},c2c7:function(e,t,a){"use strict";var n=a("8034"),r=a.n(n);r.a},c424:function(e,t,a){},c5dc:function(e,t,a){},cf05:function(e,t,a){e.exports=a.p+"img/logo.cbcd2271.png"},d521:function(e,t,a){"use strict";var n=a("9bcd"),r=a.n(n);r.a},e2d3:function(e,t,a){},f04d:function(e,t,a){"use strict";var n=a("7017"),r=a.n(n);r.a},f89e:function(e,t,a){}});
//# sourceMappingURL=app.4db64b5e.js.map